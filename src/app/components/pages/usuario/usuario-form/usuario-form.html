<form [formGroup]="usuarioForm" (ngSubmit)="onSubmit()" class="usuario-form">
  <div class="form-group">
    <label for="nome">Nome</label>
    <input
      type="text"
      id="nome"
      formControlName="nome"
      class="form-control"
      [class.is-invalid]="nome?.invalid && nome?.touched"
      placeholder="Digite o nome"
    >
    <div *ngIf="nome?.invalid && nome?.touched" class="invalid-feedback">
      <div *ngIf="nome?.errors?.['required']">Nome é obrigatório</div>
      <div *ngIf="nome?.errors?.['minlength']">Nome deve ter pelo menos 3 caracteres</div>
    </div>
  </div>

  <div class="form-group">
    <label for="email">Email</label>
    <input
      type="email"
      id="email"
      formControlName="email"
      class="form-control"
      [class.is-invalid]="email?.invalid && email?.touched"
      placeholder="Digite o email"
    >
    <div *ngIf="email?.invalid && email?.touched" class="invalid-feedback">
      <div *ngIf="email?.errors?.['required']">Email é obrigatório</div>
      <div *ngIf="email?.errors?.['email']">Email inválido</div>
    </div>
  </div>

  <div class="form-group">
    <label for="idade">Idade</label>
    <input
      type="number"
      id="idade"
      formControlName="idade"
      class="form-control"
      [class.is-invalid]="idade?.invalid && idade?.touched"
      placeholder="Digite a idade"
      min="1"
      max="120"
    >
    <div *ngIf="idade?.invalid && idade?.touched" class="invalid-feedback">
      <div *ngIf="idade?.errors?.['required']">Idade é obrigatória</div>
      <div *ngIf="idade?.errors?.['min'] || idade?.errors?.['max']">Idade deve ser entre 1 e 120 anos</div>
    </div>
  </div>

  <div class="form-actions">
    <button
      type="submit"
      class="btn btn-primary"
      [disabled]="usuarioForm.invalid"
    >
      {{ isEditMode ? 'Atualizar' : 'Criar' }} Usuário
    </button>

    <button
      type="button"
      class="btn btn-secondary"
      (click)="onCancel()"
    >
      Cancelar
    </button>
  </div>
</form>
