/* =======================
   Paleta (compile-time)
   ======================= */
$brand-700: #1e293b;   // slate-800
$brand-600: #334155;   // slate-700
$brand-500: #2563eb;   // blue-600 (accento sutil)
$text-strong: #0f172a; // slate-900
$text-muted: #64748b;  // slate-500
$surface: #ffffff;
$surface-muted: #f8fafc;
$border: #e5e7eb;
$danger: #b42318;      // red-700
$danger-hover: #9a2715;
$shadow: 0 1px 2px rgba(0,0,0,.05), 0 8px 24px rgba(0,0,0,.08);

/* utilitário para conteúdo apenas visual (caption) */
.sr-only {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0, 0, 0, 0) !important;
  white-space: nowrap !important;
  border: 0 !important;
}

/* =======================
   Cabeçalho da lista
   ======================= */
.list-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: .75rem;
  margin-bottom: 1rem;

  .title-wrap {
    display: inline-flex;
    align-items: center;
    gap: 0.3rem;

    h2 {
      margin: 0;
      color: $text-strong;
      font-weight: 700;
      letter-spacing: .2px;
      margin-left: .5rem;
    }

    .badge {
      padding: .2rem .5rem;
      margin-top: .2rem;
      font-size: .85rem;
      color: $brand-600;
      background: #eef2f7;
      border: 1px solid #e6ebf2;
      border-radius: 999px;
    }
  }

  .toolbar {
    display: inline-flex;
    align-items: center;
  }
}

/* =======================
   Botões locais
   ======================= */
.btn {
  align-items: center;
  gap: .5rem;
  border: 1px solid transparent;
  border-radius: 8px;
  padding: .55rem .9rem;
  font-weight: 600;
  background: $surface;
  color: $text-strong;
  box-shadow: $shadow;
  transition: transform .06s ease, filter .2s ease, box-shadow .2s ease, border-color .2s ease;

  i { font-size: .95rem; }

  &:active { transform: translateY(1px); }
  &:focus-visible {
    outline: none;
    border-color: rgba(37, 99, 235, .55); // azul
    box-shadow: 0 0 0 3px rgba(37, 99, 235, .18), $shadow;
  }
}
.btn-primary {
  background: $brand-600;
  color: #fff;
  cursor: pointer;
  margin: 5px 5px 1px;
  &:hover { filter: brightness(1.03); }
  &:disabled { opacity: .6; cursor: not-allowed; box-shadow: none; }
}
.btn-primary:hover {
  background: $brand-500;
}

.btn-ghost {
  background: #eef2f7;
  color: $text-strong;
  &:hover { filter: brightness(.98); }
}
.btn-danger {
  background: $danger;
  color: #fff;
  &:hover { background: $danger-hover; }
}

/* =======================
   Cartão & Tabela
   ======================= */
/* Cartão do grid */
.table-card {
  background: $surface;
  border: 1px solid $border;
  border-radius: 12px;
  box-shadow: $shadow;
  /* antes: overflow: auto; */
  overflow: hidden;              /* ✅ some a barra no desktop */
}

/* Tabela */
.users-table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0.5;
  table-layout: fixed;           /* ✅ colunas estáveis, sem “empurrar” */

  thead th,
  td {
    /* Mantém uma linha por célula e evita overflow horizontal */
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  thead th {
    position: sticky;
    top: 0;
    z-index: 2;
    padding: .75rem .9rem;
    text-align: left;
    color: $text-strong;
    background: #f3f4f6;
    border-bottom: 1px solid $border;
    font-weight: 700;

    &.col-actions { text-align: right; }
    &:first-child { border-top-left-radius: 12px; }
    &:last-child  { border-top-right-radius: 12px; }
  }

  td {
    color: $text-strong;
    vertical-align: middle;
    border-bottom: 1px solid $border;

    /* Links não quebram layout; mostram tooltip completo via title */
    a {
      color: $brand-600;
      text-decoration: none;
      transition: color .15s ease;
      &:hover { color: $brand-500; }
    }
  }

  .actions {
    display: inline-flex;
    justify-content: flex-end;
    gap: .5rem;
    width: 100%;
  }
}

/* Só no mobile (se a tabela ficar realmente maior que a tela) */
@media (max-width: 768px) {
  .table-card {
    overflow-x: auto;    /* ✅ permite rolagem horizontal apenas no mobile */
    -webkit-overflow-scrolling: touch;
  }

  /* Se preferir quebrar texto em mobile (e NÃO rolar), troque para: */
  /* .users-table thead th, .users-table td { white-space: normal; } */
}

/* =======================
   Modo escuro (opcional)
   ======================= */
@media (prefers-color-scheme: dark) {
  .table-card { background: #8992a5; border-color: rgba(255,255,255,.10); }
  .users-table thead th { background: #2c3e50; color: #e5e7eb; border-bottom-color: rgba(255,255,255,.10); }
  .users-table td { color: $text-strong; border-bottom-color: rgba(255,255,255,.08); }
  .users-table tbody tr:nth-child(even) { background: rgba(255,255,255,.02); }
  .users-table tbody tr:hover { background: rgba(255,255,255,.04); }

  .empty-state { background: #0b1220; border-color: rgba(255,255,255,.10); color: #cbd5e1; }
}
