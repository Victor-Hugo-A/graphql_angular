<div class="app-container">
  <!-- Header com informações do usuário -->
  <header class="app-header">
    <div class="header-content">
      <div class="header-info">
        <h1>
          <i class="fas fa-users" aria-hidden="true"></i>
          Sistema de Gerenciamento de Usuários
        </h1>
        <p>Gerencie os usuários do sistema de forma eficiente</p>
      </div>

      <div class="user-menu">
        <div class="user-info">
          <span class="user-name">
            <i class="fas fa-user" aria-hidden="true"></i>
            {{ currentUser?.nome }}
          </span>
          <span class="user-role">{{ currentUser?.role }}</span>
        </div>
        <button class="btn-logout" (click)="logout()" title="Sair do sistema">
          <i class="fas fa-sign-out-alt" aria-hidden="true"></i>
          Sair
        </button>
      </div>
    </div>
  </header>

  <main class="app-main">
    <div class="content-wrapper">
      @let usuarios = (usuarios$ | async) ?? [];

      @if (showForm) {
        <app-usuario-form
          [usuario]="selectedUsuario"
          [isEditMode]="isEditMode"
          (submitForm)="onSubmitForm($event)"
          (cancel)="onCancelForm()">
        </app-usuario-form>
      } @else {
        <app-usuario-list
          [usuarios]="usuarios"
          (edit)="onEditUsuario($event)"
          (delete)="onDeleteUsuario($event)"
          (newUser)="onNewUsuario()">
        </app-usuario-list>
      }
    </div>
  </main>

  <footer class="app-footer">
    <p>
      &copy; 2024 Sistema de Gerenciamento de Usuários.
      Todos os direitos reservados.
    </p>
  </footer>

  @if (notification.show) {
    <div class="notification-toast" role="status" aria-live="polite">
      <div class="notification-content"
           [class.success]="notification.type === 'success'"
           [class.error]="notification.type === 'error'">
        <i class="fas"
           [class.fa-check-circle]="notification.type === 'success'"
           [class.fa-exclamation-circle]="notification.type === 'error'"
           aria-hidden="true"></i>
        <span>{{ notification.message }}</span>
      </div>
    </div>
  }
</div>
